# 链接预览功能说明

## 🎯 功能概述

本数据库实现了类似Notion的链接预览功能，支持iframe内嵌预览，让用户无需离开当前页面就能查看外部链接内容。

## ✨ 主要特性

### 1. **iframe预览**
- 点击外部链接时，在页面中直接显示iframe预览
- 支持加载状态和错误处理
- 响应式设计，适配移动端

### 2. **预览控制**
- 预览头部显示链接标题
- "在新窗口打开"按钮
- "关闭预览"按钮
- ESC键快速关闭预览

### 3. **视觉区分**
- 小红书链接显示📱图标
- 外部链接显示↗图标
- 普通链接显示🔗图标

## 🔧 使用方法

### 基本链接预览
```markdown
<a href="https://www.xiaohongshu.com/explore/xxx" class="link-preview">小红书链接</a>
```

### 卡片式预览
```markdown
<a href="https://www.xiaohongshu.com/explore/xxx" class="link-card">
  <div class="link-card-title">标题</div>
  <div class="link-card-description">描述</div>
  <div class="link-card-url">URL</div>
</a>
```

### 食谱内部链接
```markdown
<a href="#recipe-id" class="recipe-link">食谱名称</a>
```

## 🎨 样式说明

### iframe预览容器
- 圆角边框设计
- 阴影效果
- 响应式高度（桌面端400px，移动端300px）

### 预览头部
- 显示链接标题
- 控制按钮（打开/关闭）
- 浅色背景区分

### 加载状态
- 动画加载提示
- 错误状态显示
- 友好的错误信息

## ⌨️ 快捷键

- **ESC**: 关闭当前预览
- **点击链接**: 显示iframe预览
- **点击卡片**: 显示iframe预览

## 🔒 安全考虑

- 所有外部链接都在新窗口打开
- iframe加载失败时提供备用方案
- 支持noopener和noreferrer属性

## 📱 移动端适配

- 响应式iframe高度
- 触摸友好的按钮大小
- 优化的预览头部布局

## 🚀 技术实现

### CSS特性
- CSS变量支持主题切换
- 平滑过渡动画
- 媒体查询响应式设计

### JavaScript功能
- 事件委托处理
- 动态DOM操作
- 错误处理和状态管理

## 📝 注意事项

1. **跨域限制**: 某些网站可能禁止iframe嵌入
2. **加载性能**: 大型页面可能加载较慢
3. **用户体验**: 提供多种查看方式（预览/新窗口）

## 🔄 未来改进

- [ ] 支持更多平台的特殊处理
- [ ] 添加预览缓存功能
- [ ] 实现预览历史记录
- [ ] 支持预览分享功能 